<script>
  $(document).ready(function () {
    const regex = /[^\d.]|\.(?=.*\.)/g;
    const subst = ``;
    $(".extra_price_input").keyup(function () {
      const str = this.value;
      const result = str.replace(regex, subst);
      this.value = result;
    });
  });
</script>
<script>
  $(function () {
    $("#roName_error_message").hide();
    $("#huName_error_message").hide();
    $("#price_error_message").hide();

    var error_roName = false;
    var error_huName = false;
    var error_price = false;

    $("#roName").focusout(function () {
      check_roName();
    });

    $("#huName").focusout(function () {
      check_huName();
    });

    $("#price").change(function () {
      check_price();
    });

    function check_price() {
      var check_price = $("#price").val().length;

      if (check_price < 1) {
        $(".price").addClass("is-invalid");
        $("#price_error_message").html("Extra árának megadása kötelező!");
        $("#price_error_message").show();
        error_price = true;
      } else {
        $(".price").removeClass("is-invalid");
        $("#price_error_message").hide();
      }
    }

    function check_roName() {
      var roName_length = $("#roName").val().length;

      if (roName_length < 1 || roName_length > 100) {
        $(".roName").addClass("is-invalid");
        $("#roName_error_message").html(
          "Extra román nevének megadása kötelező!"
        );
        $("#roName_error_message").show();
        error_roName = true;
      } else {
        $(".roName").removeClass("is-invalid");
        $("#roName_error_message").hide();
      }
    }

    function check_huName() {
      var huName_length = $("#huName").val().length;

      if (huName_length < 1 || huName_length > 100) {
        $(".huName").addClass("is-invalid");
        $("#huName_error_message").html(
          "Extra magyar nevének megadása kötelező!"
        );
        $("#huName_error_message").show();
        error_huName = true;
      } else {
        $(".huName").removeClass("is-invalid");
        $("#huName_error_message").hide();
      }
    }

    $("#createExtra_form").submit(function () {
      error_roName = false;
      error_huName = false;
      error_price = false;

      check_roName();
      check_huName();
      check_price();

      if (
        error_roName == false &&
        error_huName == false &&
        error_price == false
      ) {
        $("#createBox").prop("disabled", true);
        return true;
      } else {
        return false;
      }
    });
  });
</script>

<script>
  $(document).ready(function () {
    $(function () {
      $("#createExtra").one("click", function () {
        $("#createExtra_form").submit();
      });
    });
  });
</script>
