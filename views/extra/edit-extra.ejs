
<%- include('../includes/head.ejs') %>
<%- include('../jQuery-validation/extra.ejs') %>
</head>
<body class="hold-transition sidebar-mini">
  <div class="wrapper">
    <script>
      $(document).ready(function () {
        const regex = /[^\d.]|\.(?=.*\.)/g;
        const subst = ``;
        $(".extra_price_input").keyup(function () {
          const str = this.value;
          const result = str.replace(regex, subst);
          this.value = result;
        });
      });
    </script>
    <!-- Navbar -->
    <%- include('../includes/nav.ejs') %> <%- include('../includes/aside.ejs')
    %>
    <script>
      $(document).ready(function () {
        const regex = /[^\d.]|\.(?=.*\.)/g;
        const subst = ``;
        $(".extra_price_input").keyup(function () {
          const str = this.value;
          const result = str.replace(regex, subst);
          this.value = result;
        });
      });
    </script>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1>
                <% if (editing) { %><%= lingua.update_extra %><% } else { %> <%=
                lingua.create_extra %> <% } %>
              </h1>
            </div>
          </div>
        </div>
        <!-- /.container-fluid -->
      </section>

      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <div class="row">
            <!-- left column -->
            <div class="col-md-6">
              <!-- general form elements -->
              <div class="card card-success">
                <div class="card-header">
                  <h3 class="card-title">Extra adatatok megadása</h3>
                </div>
                <!-- /.card-header -->
                <!-- form start -->
                <form
                  id="createExtra_form"
                  class="ms-content-wrapper"
                  action="/admin/<% if (editing) { %>edit-extra<% } else { %>add-extra<% } %>"
                  method="POST"
                  enctype="multipart/form-data"
                >
                  <div class="card-body">
                    <div class="form-group">
                      <label for="price">Ár</label>
                      <input
                        type="text"
                        class="form-control extra_price_input price"
                        id="price"
                        name="price"
                        placeholder="Extra ára"
                        autocomplete="off"
                        value="<% if (editing) { %><%= extra[0].price %><% } %>"
                      />
                      <span
                        class="invalid-feedback"
                        id="price_error_message"
                      ></span>
                    </div>
                    <div class="form-group">
                      <label for="roName">Extra román neve</label>
                      <input
                        type="text"
                        class="form-control roName"
                        id="roName"
                        name="roName"
                        placeholder="Extra román neve"
                        value="<% if (editing) { %><%= extra[0].ExtraTranslations[0].name %><% } %>"
                      />
                      <span
                        class="invalid-feedback"
                        id="roName_error_message"
                      ></span>
                    </div>
                    <div class="form-group">
                      <label for="huName">Extra magyar neve</label>
                      <input
                        type="text"
                        class="form-control huName"
                        id="huName"
                        name="huName"
                        placeholder="Extra román neve"
                        value="<% if (editing) { %><%= extra[0].ExtraTranslations[1].name %><% } %>"
                      />
                      <span
                        class="invalid-feedback"
                        id="huName_error_message"
                      ></span>
                    </div>
                    <div class="form-group">
                      <label for="enName">Extra angol neve</label>
                      <input
                        type="text"
                        class="form-control enName"
                        id="enName"
                        name="enName"
                        placeholder="Extra román neve"
                        value="<% if (editing) { %><%= extra[0].ExtraTranslations[2].name %><% } %>"
                      />
                      <span
                        class="invalid-feedback"
                        id="enName_error_message"
                      ></span>
                    </div>

                    <div class="form-check"></div>
                  </div>
                  <!-- /.card-body -->
                  <% if (editing) { %>
                  <input type="hidden" value="<%= extraId %>" name="extraId" />
                  <% } %>
                  <div class="card-footer">
                    <button type="submit" class="btn btn-success">
                      <% if (editing) { %><%=lingua.button_editing %><% } else {
                      %><%= lingua.create_extra %><% } %>
                    </button>
                  </div>
                </form>
              </div>
              <!-- /.card -->
            </div>
          </div>
          <!-- /.row -->
        </div>
      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <footer class="main-footer">
      <div class="float-right d-none d-sm-block"><b>Version</b> 3.1.0</div>
      <strong
        >Copyright &copy; 2014-2021
        <a href="https://adminlte.io">AdminLTE.io</a>.</strong
      >
      All rights reserved.
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
  </div>
  <!-- ./wrapper -->

  <!-- jQuery -->
  <script src="/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- bs-custom-file-input -->
  <script src="/plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>
  <!-- AdminLTE App -->
  <script src="/js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="/js/demo.js"></script>
  <!-- Page specific script -->
  <script>
    $(function () {
      bsCustomFileInput.init();
    });
  </script>
</body>
